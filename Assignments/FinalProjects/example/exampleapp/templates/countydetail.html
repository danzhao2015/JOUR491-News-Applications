{% extends "base.html" %}

{% load humanize %} 

{% block scripts %}
    <script type="text/javascript"
          src="https://www.google.com/jsapi?autoload={
            'modules':[{
              'name':'visualization',
              'version':'1',
              'packages':['corechart']
            }]
          }"></script>

    <script type="text/javascript">
      google.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Population'],
          ['2010',  {{ county.pop2010 }}],
          ['2011',  {{ county.pop2011 }}],
          ['2012',  {{ county.pop2012 }}],
          ['2013',  {{ county.pop2013 }}]
        ]);

        var options = {
          title: 'Change, 2010-2013',
          curveType: 'function',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    </script>
{% endblock %}

{% block content %}
        <h1>{{ county }}</h1>
		<div id="curve_chart" style="width: 900px; height: 500px"></div>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Location</th>
              <th>2010</th>
              <th>2011</th>
              <th>2012</th>
              <th>2013</th>
		   <th>2010-2013 change</th>
		   <th>Trend</th>
            </tr>
          </thead>
          <tbody>
             <tr>
               <td><a href="{{ county.get_absolute_url }}">{{ county.county_name }}, {{ county.state }}</a></td>
               <td>{{ county.pop2010|intcomma }}</td>
               <td>{{ county.pop2011|intcomma }}</td>
               <td>{{ county.pop2012|intcomma }}</td>
               <td>{{ county.pop2013|intcomma }}</td>
               <td>{{ county.change|floatformat }}%</td>
			   <td>{% if county.change > 0 %}<img src="/static/images/up.png" width=25 />{% elif county.change < 0 %}<img src="/static/images/down.png" width=25 />{% else %}{% endif %}
             </tr>
            </tbody>
          </table>
        </div>
		




{% endblock %}